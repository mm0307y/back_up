{"ast":null,"code":"import { getDatabase, ref, set, remove, onValue, off } from \"firebase/database\";\nclass CardLogic {\n  constructor(app) {\n    this.db = getDatabase(app);\n  }\n  syncCards(userId, onUpdate) {\n    const query = ref(this.db, `${userId}/cards`);\n    onValue(query, snapshot => {\n      const value = snapshot.val();\n      value && onUpdate(value);\n    });\n    return () => off(query);\n  }\n  //https://firebase.google.com/docs/database/web/read-and-write?authuser=0\n  saveCard(userId, card) {\n    set(ref(this.db, `${userId}/cards/${card.id}`), card).then(() => {\n      console.log(\"저장성공\");\n    }).catch(error => {\n      console.log(\"저장 실패!!!\");\n    });\n  }\n  //데이터 삭제 - 해당 데이터 위치의 참조에 remove()를 호출한다\n  removeCard(userId, card) {\n    remove(ref(this.db, `${userId}/cards/${card.id}`)); //new Date().now() 오늘날짜시간 10진수값이 담김\n  }\n}\nexport default CardLogic;","map":{"version":3,"names":["getDatabase","ref","set","remove","onValue","off","CardLogic","constructor","app","db","syncCards","userId","onUpdate","query","snapshot","value","val","saveCard","card","id","then","console","log","catch","error","removeCard"],"sources":["C:/Users/mtwd9/Desktop/Java/workspace_react/cloudinary-step2/src/service1212/cardLogic1216.js"],"sourcesContent":["import { getDatabase, ref, set, remove, onValue, off } from \"firebase/database\";\r\nclass CardLogic {\r\n  constructor(app) {\r\n    this.db = getDatabase(app);\r\n  }\r\n  syncCards(userId, onUpdate) {\r\n    const query = ref(this.db, `${userId}/cards`);\r\n    onValue(query, (snapshot) => {\r\n      const value = snapshot.val();\r\n      value && onUpdate(value);\r\n    });\r\n    return () => off(query);\r\n  }\r\n  //https://firebase.google.com/docs/database/web/read-and-write?authuser=0\r\n  saveCard(userId, card) {\r\n    set(ref(this.db, `${userId}/cards/${card.id}`), card)\r\n      .then(() => {\r\n        console.log(\"저장성공\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"저장 실패!!!\");\r\n      });\r\n  }\r\n  //데이터 삭제 - 해당 데이터 위치의 참조에 remove()를 호출한다\r\n  removeCard(userId, card) {\r\n    remove(ref(this.db, `${userId}/cards/${card.id}`)); //new Date().now() 오늘날짜시간 10진수값이 담김\r\n  }\r\n}\r\n\r\nexport default CardLogic;\r\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,GAAG,EAAEC,GAAG,EAAEC,MAAM,EAAEC,OAAO,EAAEC,GAAG,QAAQ,mBAAmB;AAC/E,MAAMC,SAAS,CAAC;EACdC,WAAWA,CAACC,GAAG,EAAE;IACf,IAAI,CAACC,EAAE,GAAGT,WAAW,CAACQ,GAAG,CAAC;EAC5B;EACAE,SAASA,CAACC,MAAM,EAAEC,QAAQ,EAAE;IAC1B,MAAMC,KAAK,GAAGZ,GAAG,CAAC,IAAI,CAACQ,EAAE,EAAE,GAAGE,MAAM,QAAQ,CAAC;IAC7CP,OAAO,CAACS,KAAK,EAAGC,QAAQ,IAAK;MAC3B,MAAMC,KAAK,GAAGD,QAAQ,CAACE,GAAG,CAAC,CAAC;MAC5BD,KAAK,IAAIH,QAAQ,CAACG,KAAK,CAAC;IAC1B,CAAC,CAAC;IACF,OAAO,MAAMV,GAAG,CAACQ,KAAK,CAAC;EACzB;EACA;EACAI,QAAQA,CAACN,MAAM,EAAEO,IAAI,EAAE;IACrBhB,GAAG,CAACD,GAAG,CAAC,IAAI,CAACQ,EAAE,EAAE,GAAGE,MAAM,UAAUO,IAAI,CAACC,EAAE,EAAE,CAAC,EAAED,IAAI,CAAC,CAClDE,IAAI,CAAC,MAAM;MACVC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IACrB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MAChBH,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;IACzB,CAAC,CAAC;EACN;EACA;EACAG,UAAUA,CAACd,MAAM,EAAEO,IAAI,EAAE;IACvBf,MAAM,CAACF,GAAG,CAAC,IAAI,CAACQ,EAAE,EAAE,GAAGE,MAAM,UAAUO,IAAI,CAACC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;EACtD;AACF;AAEA,eAAeb,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}