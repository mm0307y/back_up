<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>도전문제 - [구조분해, spread연산]</title>
</head>
<body>
  <!-- <script type="module"></script>   -->
  <script type="text/javascript">
    let items = [
      { id: 1, name: "밴치프레스", count: 10 },
      { id: 2, name: "랫풀다운", count: 7 },
      { id: 3, name: "스쿼트", count: 20 }
    ]

    let items_copy = [...items, { id: 4, name: "레그 프레스", count: 12 }]
    document.write("<div>")
    document.write('<table border="1" borderColor="red">')
    items_copy.forEach((item) => {
      document.write("<tr>")
      document.write(`<td>${item.id}</td>`)
      document.write(`<td>${item["name"]}</td>`)
      document.write(`<td>${item.count}</td>`)
      document.write("</tr>")
    })
    document.write("</table>")
    document.write("</div>")

    // 수정하기
    // 사용자로부터 수정하고자 하는 id를 입력하세요.
    let x = [...items_copy]
    let user = window.prompt("배치프레스의 id를 입력하세요.")
    console.log("사용자가 입력한 id는 " + user)
    x.forEach((item) => {
      if (item.id === parseInt(user)) {
        // 아이디가 다른 것들을 배열에 담아 둔다.
        x = items_copy.filter((item) => item.id !== parseInt(user))

        // 수정하고자 하는 객체를 수정한 다음 둘을 머지한다.
        x = [...x, {id:`${parseInt(user)}`, name: "덤벨프레스", count: 15}]
      }
    })
    document.write("<div>")
    document.write('<table border="1" borderColor="skyblue">')
    x.forEach((item) => {
      document.write("<tr>")
      document.write(`<td>${item.id}</td>`)
      document.write(`<td>${item["name"]}</td>`)
      document.write(`<td>${item.count}</td>`)
      document.write("</tr>")
    })
    document.write("</table>")
    document.write("</div>")
  </script>
</body>
</html>